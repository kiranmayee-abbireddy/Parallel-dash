<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, height=device-height, viewport-fit=cover">
    <title>Parallel Love</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Quicksand&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Quicksand:wght@500&display=swap" rel="stylesheet">
</head>
<body>
    <canvas id="spaceBackground"></canvas>

    <div class="intro-screen" id="introScreen">
        <div class="intro-content">
            <div class="intro-header">
                <div class="title-container">
                    <h1 class="game-title">Parallel Love</h1>
                    <span class="byline">by Kiryee</span>
                </div>
                <button class="store-button" id="storeButton">Store</button>
            </div>
            
            <div class="store-modal" id="storeModal">
                <h2>Store</h2>
                <div class="store-coins">
                    <span class="coin-icon">🪙</span>
                    <span id="storeTotalCoins">0</span>
                </div>
                <div class="store-categories">
                    <button class="category-btn active" data-category="skins">Skins</button>
                    <button class="category-btn" data-category="accessories">Accessories</button>
                </div>
                <div class="store-grid">
                    <!-- Free Skins -->
                    <div class="store-item" data-category="skins">
                        <h3>Default</h3>
                        <div class="item-preview" data-skin="default">
                            <div class="preview-left"></div>
                            <div class="preview-right"></div>
                        </div>
                        <button data-item="default-skin" data-price="0">Free</button>
                    </div>

                    <!-- Basic Color Skins -->
                    <div class="store-item" data-category="skins">
                        <h3>Ocean & Sunset</h3>
                        <div class="item-preview" data-skin="ocean-sunset">
                            <div class="preview-left"></div>
                            <div class="preview-right"></div>
                        </div>
                        <button data-item="ocean-sunset-skin" data-price="20">20 🪙</button>
                    </div>

                    <div class="store-item" data-category="skins">
                        <h3>Mint & Rose</h3>
                        <div class="item-preview" data-skin="mint-rose">
                            <div class="preview-left"></div>
                            <div class="preview-right"></div>
                        </div>
                        <button data-item="mint-rose-skin" data-price="30">30 🪙</button>
                    </div>

                    <div class="store-item" data-category="skins">
                        <h3>Royal & Gold</h3>
                        <div class="item-preview" data-skin="royal-gold">
                            <div class="preview-left"></div>
                            <div class="preview-right"></div>
                        </div>
                        <button data-item="royal-gold-skin" data-price="40">40 🪙</button>
                    </div>

                    <div class="store-item" data-category="skins">
                        <h3>Forest & Coral</h3>
                        <div class="item-preview" data-skin="forest-coral">
                            <div class="preview-left"></div>
                            <div class="preview-right"></div>
                        </div>
                        <button data-item="forest-coral-skin" data-price="50">50 🪙</button>
                    </div>

                    <div class="store-item" data-category="skins">
                        <h3>Neon Duo</h3>
                        <div class="item-preview" data-skin="neon-duo">
                            <div class="preview-left"></div>
                            <div class="preview-right"></div>
                        </div>
                        <button data-item="neon-duo-skin" data-price="60">60 🪙</button>
                    </div>

                    <div class="store-item" data-category="skins">
                        <h3>Twilight & Dawn</h3>
                        <div class="item-preview" data-skin="twilight-dawn">
                            <div class="preview-left"></div>
                            <div class="preview-right"></div>
                        </div>
                        <button data-item="twilight-dawn-skin" data-price="70">70 🪙</button>
                    </div>

                    <!-- Accessories Section -->
                    <div class="store-item" data-category="accessories">
                        <h3>No Accessory</h3>
                        <div class="item-preview">
                            <div class="preview-left default-skin"></div>
                            <div class="preview-right default-skin"></div>
                        </div>
                        <button data-item="none" data-price="0" class="equipped">Equipped</button>
                    </div>

                    <div class="store-item" data-category="accessories">
                        <h3>Flower Crown</h3>
                        <div class="item-preview">
                            <div class="preview-left default-skin">
                                <div class="accessory flower-crown left"></div>
                            </div>
                            <div class="preview-right default-skin">
                                <div class="accessory flower-crown right"></div>
                            </div>
                        </div>
                        <button data-item="flower-crown" data-price="30">30 🪙</button>
                    </div>

                    <div class="store-item" data-category="accessories">
                        <h3>Bunny Ears</h3>
                        <div class="item-preview">
                            <div class="preview-left default-skin">
                                <div class="accessory bunny-ears left"></div>
                            </div>
                            <div class="preview-right default-skin">
                                <div class="accessory bunny-ears right"></div>
                            </div>
                        </div>
                        <button data-item="bunny-ears" data-price="40">40 🪙</button>
                    </div>

                    <div class="store-item" data-category="accessories">
                        <h3>Simple Hat</h3>
                        <div class="item-preview">
                            <div class="preview-left default-skin">
                                <div class="accessory simple-hat left"></div>
                            </div>
                            <div class="preview-right default-skin">
                                <div class="accessory simple-hat right"></div>
                            </div>
                        </div>
                        <button data-item="simple-hat" data-price="50">50 🪙</button>
                    </div>

                    <div class="store-item" data-category="accessories">
                        <h3>Cool Glasses</h3>
                        <div class="item-preview">
                            <div class="preview-left default-skin">
                                <div class="accessory glasses left"></div>
                            </div>
                            <div class="preview-right default-skin">
                                <div class="accessory glasses right"></div>
                            </div>
                        </div>
                        <button data-item="glasses" data-price="35">35 🪙</button>
                    </div>

                    <div class="store-item" data-category="accessories">
                        <h3>Glowing Halo</h3>
                        <div class="item-preview">
                            <div class="preview-left default-skin">
                                <div class="accessory halo left"></div>
                            </div>
                            <div class="preview-right default-skin">
                                <div class="accessory halo right"></div>
                            </div>
                        </div>
                        <button data-item="halo" data-price="60">60 🪙</button>
                    </div>
                </div>
                <button id="closeStore">Close Store</button>
            </div>

            <div class="nickname-prompt" id="nicknamePrompt">
                <h2>Name Your Character</h2>
                <div class="character-preview">
                    <div class="preview-left"></div>
                    <div class="preview-right"></div>
                </div>
                <div class="nickname-input-container">
                    <input type="text" id="nicknameInput" maxlength="12" placeholder="Enter nickname..." autocomplete="off">
                    <button id="confirmNickname">Confirm</button>
                </div>
            </div>

            <div class="demo-container">
                <div class="demo-section">
                    <div class="demo-character left default-skin"></div>
                    <div class="demo-platform"></div>
                </div>
                <div class="demo-section">
                    <div class="demo-character right default-skin"></div>
                    <div class="demo-platform"></div>
                </div>
            </div>

            <div class="instructions">
                <h2>How to Play</h2>
                <div class="instructions-container">
                    <!-- Desktop Controls -->
                    <div class="instruction-item" data-desktop>
                        <span class="key">W</span>
                        <span class="key">↑</span>
                        <span>Jump</span>
                    </div>
                    <div class="movement-controls" data-desktop>
                        <div class="instruction-item">
                            <span class="key">A</span>
                            <span class="key">←</span>
                            <span>Move Left</span>
                        </div>
                        <div class="instruction-item">
                            <span class="key">D</span>
                            <span class="key">→</span>
                            <span>Move Right</span>
                        </div>
                    </div>

                    <!-- Mobile Controls -->
                    <div class="instruction-item" data-mobile>
                        <span>Tap to Jump</span>
                    </div>
                    <div class="instruction-item" data-mobile>
                        <span>Swipe Left/Right to Move</span>
                    </div>

                    <!-- Common Instructions -->
                    <div class="instruction-item">
                        <span>Collect coins</span>
                    </div>
                    <div class="instruction-item">
                        <span>Avoid obstacles</span>
                    </div>
                </div>
            </div>

            <button class="start-button" id="startButton">Start Game</button>
        </div>
    </div>

    <div class="game-container" style="background: transparent;">
        <!-- Header with coin display -->
        <div class="header">
            <h1>Parallel Dash</h1>
            <div class="coin-display">
                <div>Level Coins: <span id="coinCount">0</span></div>
                <div>Total Coins: <span id="totalCoins">0</span></div>
            </div>
        </div>

        <!-- Game screen with two mirrored sections -->
        <div class="game-screen">
            <div class="character-section left" id="leftSection">
                <div class="platform" style="bottom: 0; left: 0; width: 100%; height: 20px;"></div>
                <div class="coin" style="top: 100px; left: 100px;"></div>
            </div>
            <div class="character-section right" id="rightSection">
                <div class="platform" style="bottom: 0; right: 0; width: 100%; height: 20px;"></div>
                <div class="coin" style="top: 100px; right: 100px;"></div>
            </div>
        </div>

        <!-- Game controls -->
        <div class="controls">
            <button class="home-button" id="homeButton">
                <span>⌂</span> Home
            </button>
            <button class="pause-button" id="pauseButton">Pause</button>
            <button id="restartButton">Restart Level</button>
        </div>

        <div class="level-display" id="levelDisplay">Level 1</div>
    </div>

    <script>
        // Store functionality
        document.addEventListener('DOMContentLoaded', () => {
            const storeButton = document.getElementById('storeButton');
            const storeModal = document.getElementById('storeModal');
            const closeStore = document.getElementById('closeStore');

            storeButton.addEventListener('click', () => {
                storeModal.style.display = 'block';
            });

            closeStore.addEventListener('click', () => {
                storeModal.style.display = 'none';
            });

            // Close store when clicking outside
            window.addEventListener('click', (event) => {
                if (event.target === storeModal) {
                    storeModal.style.display = 'none';
                }
            });
        });
    </script>
    <script src="game.js"></script>

    <div class="countdown-overlay" id="countdownOverlay"></div>

    <div class="level-complete-screen" id="levelCompleteScreen">
        <h2>Level <span id="completedLevel"></span> Complete!</h2>
        <div class="completion-animation">
            <div class="character-left default-skin"></div>
            <div class="character-right default-skin"></div>
            <div class="hearts-container"></div>
        </div>
        <div class="level-stats" id="levelStats"></div>
        <button class="next-level-button">Next Level</button>
    </div>

    <div class="game-over-screen" id="gameOverScreen">
        <h2 class="game-over-message">Game Over</h2>
        <div class="game-over-animation">
            <div class="portal-left"></div>
            <div class="portal-right"></div>
            <div class="game-over-character-left default-skin"></div>
            <div class="game-over-character-right default-skin"></div>
        </div>
        <div class="button-container">
            <button class="retry-button">Try Again</button>
            <button class="menu-button">Back to Menu</button>
        </div>
    </div>

    <div class="modal-card" id="confirmModal">
        <h2>Return to Menu?</h2>
        <p>Your progress will be saved.</p>
        <div class="modal-buttons">
            <button class="modal-button confirm" id="confirmYes">Yes</button>
            <button class="modal-button cancel" id="confirmNo">No</button>
        </div>
    </div>

    <!-- Add this after the header div -->
    <div class="audio-controls">
        <button id="toggleMusic" class="audio-button">
            <span class="music-on">🔊</span>
            <span class="music-off" style="display: none;">🔇</span>
        </button>
    </div>

    <!-- Add this before closing body tag -->
    <audio id="backgroundMusic" loop>
        <source src="assets/music/game-theme.mp3" type="audio/mpeg">
    </audio>
</body>
</html> 